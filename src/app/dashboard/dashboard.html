<h2 class="page-title">Dashboard</h2>
<p>Logged Role: <strong>{{ auth.getRole() }}</strong></p>

<!-- COUNTS CARDS -->
<div class="row mb-4">
  <div class="col-md-3" *ngFor="let c of [
    {title:'Customers',value:counts.customers, icon:'bi-people-fill'},
    {title:'Documents',value:counts.documents, icon:'bi-file-earmark-text-fill'},
    {title:'Pending',value:counts.pending, icon:'bi-hourglass-split'},
    {title:'Approved',value:counts.approved, icon:'bi-check-circle-fill'}
  ]">
    <div class="dashboard-card text-center">
      <div class="card-icon">
        <i class="bi {{ c.icon }}"></i>
      </div>
      <h5>{{ c.title }}</h5>
      <h2>{{ c.value }}</h2>
    </div>
  </div>
</div>

<!-- ROLE-BASED ACTION BUTTONS -->
<div class="row mb-4 g-3">
  <div class="col-md-3" *ngIf="auth.hasRole(['OFFICER'])">
    <button routerLink="/customers" class="action-btn info w-100">
      <i class="bi bi-people-fill"></i> Customers
    </button>
  </div>

  <div class="col-md-3" *ngIf="auth.hasRole(['OFFICER','ADMIN'])">
    <button routerLink="/upload" class="action-btn primary w-100">
      <i class="bi bi-upload"></i> Upload Document
    </button>
  </div>

  <div class="col-md-3" *ngIf="auth.hasRole(['MANAGER','ADMIN'])">
    <button routerLink="/approve" class="action-btn success w-100">
      <i class="bi bi-check2-square"></i> Approve Documents
    </button>
  </div>

  <div class="col-md-3" *ngIf="auth.hasRole(['ADMIN'])">
    <button routerLink="/users" class="action-btn dark w-100">
      <i class="bi bi-people-circle"></i> User Management
    </button>
  </div>

  <div class="col-md-3" *ngIf="auth.hasRole(['ADMIN','AUDITOR'])">
    <button routerLink="/audit-logs" class="action-btn warning w-100">
      <i class="bi bi-clipboard-check"></i> Audit Logs
    </button>
  </div>

  <div class="col-md-3" *ngIf="auth.hasRole(['AUDITOR'])">
    <button routerLink="/auditor-dashboard" class="action-btn warning w-100">
      <i class="bi bi-shield-check"></i> Auditor Dashboard
    </button>
  </div>
</div>


<hr>

<!-- CHARTS -->
<div class="row">
  <div class="col-md-6">
    <h5>Document Status</h5>
    <canvas id="statusChart"></canvas>
  </div>

  <div class="col-md-6">
    <h5>Documents by Type</h5>
    <canvas id="typeChart"></canvas>
  </div>
</div>
